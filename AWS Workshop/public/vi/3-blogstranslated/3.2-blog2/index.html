<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.152.2"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>Blog 2 :: Báo cáo thực tập</title><link href=../../../css/nucleus.css?1765303936 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765303936 rel=stylesheet><link href=../../../css/hybrid.css?1765303936 rel=stylesheet><link href=../../../css/featherlight.min.css?1765303936 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765303936 rel=stylesheet><link href=../../../css/auto-complete.css?1765303936 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765303936 rel=stylesheet><link href=../../../css/theme.css?1765303936 rel=stylesheet><link href=../../../css/hugo-theme.css?1765303936 rel=stylesheet><link href=../../../css/theme-workshop.css?1765303936 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765303936></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/3-blogstranslated/3.2-blog2/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765303936></script><script type=text/javascript src=../../../js/auto-complete.js?1765303936></script><script type=text/javascript>var baseurl="//vi"</script><script type=text/javascript src=../../../js/search.js?1765303936></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class=dd-item><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=../../../vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Worklog Tuần 2" class=dd-item><a href=../../../vi/1-worklog/1.2-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Worklog Tuần 3" class=dd-item><a href=../../../vi/1-worklog/1.3-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Worklog Tuần 4" class=dd-item><a href=../../../vi/1-worklog/1.4-week4/><b>1.4. </b>Worklog Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Worklog Tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Worklog Tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Worklog Tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Worklog Tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Worklog Tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class=dd-item><a href=../../../vi/1-worklog/1.12-week12/><b>1.12 </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Proposal 2HTD-LearningHub" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Proposal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class="dd-item
parent"><a href=../../../vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="Blog 2" class="dd-item
active"><a href=../../../vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="Blog 3" class=dd-item><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../../vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-cognito-api-gateway/ title="Cognito + API Gateway" class=dd-item><a href=../../../vi/5-workshop/5.3-cognito-api-gateway/><b>5.3. </b>Cognito + API Gateway
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.3-cognito-api-gateway/5.3.1-create-andconfigue-cognito/ title="Tạo và cấu hình Cognito & API Gateway" class=dd-item><a href=../../../vi/5-workshop/5.3-cognito-api-gateway/5.3.1-create-andconfigue-cognito/><b>5.3.1. </b>Tạo và cấu hình Cognito & API Gateway
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5.5-ec2-privatesubnet/ title="EC2 (Private Subnet) — Windows + SQL Server" class=dd-item><a href=../../../vi/5-workshop/5.5-ec2-privatesubnet/><b>5.5. </b>EC2 (Private Subnet) — Windows + SQL Server
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-lambda-api-gateway/ title="Lambda + API Gateway" class=dd-item><a href=../../../vi/5-workshop/5.4-lambda-api-gateway/><b>5.4. </b>Lambda + API Gateway
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-cleanup/ title="Dọn dẹp tài nguyên" class=dd-item><a href=../../../vi/5-workshop/5.6-cleanup/><b>5.6. </b>Dọn dẹp tài nguyên
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title class=dd-item><a href=../../../vi/5-workshop/5.2-prerequiste/><i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=/3-blogstranslated/3.2-blog2/>English</option><option id=vi value=/vi/3-blogstranslated/3.2-blog2/ selected>Tiếng Việt</option></select>
<svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/3-blogstranslated/>Các bài blogs đã dịch</a> > Blog 2</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#các-tính-năng-được-phát-hành-từ-amazon-location-service>Các tính năng được phát hành từ Amazon Location Service</a></li><li><a href=#tạo-khóa-api>Tạo khóa API</a></li><li><a href=#các-tính-năng-api-bản-đồ-mới>Các tính năng API bản đồ mới</a></li><li><a href=#xây-dựng-nền-tảng-cho-ứng-dụng-bản-đồ-với-getstyle-descriptor>Xây dựng nền tảng cho ứng dụng bản đồ với GetStyle Descriptor</a></li><li><a href=#tạo-ảnh-bản-đồ-tĩnh-bằng-getstaticmap>Tạo ảnh bản đồ tĩnh bằng GetStaticMap</a></li><li><a href=#các-tính-năng-api-địa-điểm-mới>Các tính năng API Địa điểm mới</a></li><li><a href=#tìm-kiếm-dữ-liệu-poi-đã-chỉ-định-bằng-searchtext>Tìm kiếm dữ liệu POI đã chỉ định bằng SearchText</a></li><li><a href=#tìm-kiếm-để-lấy-dữ-liệu-poi-xung-quanh-một-vị-trí-cụ-thể-với-search-nearby>Tìm kiếm để lấy dữ liệu POI xung quanh một vị trí cụ thể với Search Nearby</a></li><li><a href=#các-tính-năng-api-tuyến-đường-mới>Các tính năng API tuyến đường mới</a></li><li><a href=#tìm-phạm-vi-có-thể-tiếp-cận-từ-một-vị-trí-được-chỉ-định-với-calculateisolines>Tìm phạm vi có thể tiếp cận từ một vị trí được chỉ định với CalculateIsolines</a></li><li><a href=#nhận-dữ-liệu-tuyến-đường-đã-hiệu-chỉnh-vị-trí-bằng-snaptoroads>Nhận dữ liệu tuyến đường đã hiệu chỉnh vị trí bằng SnapToRoads</a></li><li><a href=#dọn-dẹp>Dọn dẹp</a></li><li><a href=#phần-kết-luận>Phần kết luận</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Blog 2</h1><h1 id=các-tính-năng-mới-và-trải-nghiệm-dành-cho-nhà-phát-triển-với-dịch-vụ-định-vị-amazon-được-cải-tiến>Các tính năng mới và trải nghiệm dành cho nhà phát triển với Dịch vụ định vị Amazon được cải tiến</h1><p>bởi Zach Elliott vào 02 THÁNG 4 NĂM 2025 tại Vị trí Amazon , Thông báo , Hướng dẫn kỹ thuật|Liên kết cố định|Chia sẻ.
Bài đăng trên blog này được viết bởi Yasunori Kirimoto – CEO của MIERUNE
Việc xây dựng các ứng dụng không gian địa lý đòi hỏi chuyên môn về xử lý dữ liệu không gian địa lý, cũng như thiết kế và phát triển hệ thống. Nó cũng đòi hỏi kỹ năng thu thập và quản lý khối lượng lớn dữ liệu không gian địa lý và sử dụng hiệu quả trong ứng dụng. Quá trình này có thể rất tốn công sức, nhưng độ phức tạp của nó có thể được giảm thiểu đáng kể bằng cách tận dụng Amazon Location Service.
Với Amazon Location Service, dữ liệu không gian địa lý có độ chính xác cao có thể được thu thập nhanh chóng từ các API, cho phép các nhà phát triển tập trung vào việc xây dựng ứng dụng. Ngoài ra, Amazon Location Service đã được cập nhật, bổ sung thêm các tính năng mới bên cạnh các chức năng trước đây. Chúng tôi sẽ giới thiệu các tính năng mới của Amazon Location Service và hướng dẫn cách tận dụng chúng trong ứng dụng của bạn.</p><hr><h2 id=các-tính-năng-được-phát-hành-từ-amazon-location-service>Các tính năng được phát hành từ Amazon Location Service</h2><p>Thay đổi lớn nhất là việc tạo tài nguyên không còn cần thiết nữa. Điều này có nghĩa là người dùng không còn cần phải tạo từng tài nguyên riêng lẻ (chẳng hạn như Chỉ mục Địa điểm, Bản đồ và Máy tính Tuyến đường), mà có thể thiết lập khóa API và bắt đầu sử dụng Amazon Location Service ngay lập tức.
Ngoài ra, các API Bản đồ, Địa điểm và Tuyến đường đã được bổ sung nhiều cải tiến đáng kể và tính năng mới. API Bản đồ đã được cập nhật với các kiểu dáng bổ sung, cũng như khả năng bản đồ tĩnh mới. API Địa điểm đã được cải tiến với các tính năng tìm kiếm và mã hóa địa lý mới. Cuối cùng, API Tuyến đường đã được cập nhật với các tính năng mới như Snap to Road, Tối ưu hóa Điểm dừng và các chế độ di chuyển bổ sung.</p><h2 id=tạo-khóa-api>Tạo khóa API</h2><p>Để tạo Khóa API , chúng ta có thể sử dụng AWS Management Console hoặc AWS Cloud Control API . Trong ví dụ này, chúng ta sẽ sử dụng bảng điều khiển. Điều hướng đến Amazon Location Service Console và chọn Khóa API trong mục Quản lý tài nguyên. Chọn Tạo Khóa API.</p><p>Để trình diễn, chúng tôi sẽ đặt tên cho Khóa API là LasVegasMaps và chọn các hành động sau:
– GetStaticMap
– GetTile
– Geocode
– GetPlace
– SearchNearby
– SearchText
– CalculateIsolines
– SnapToRoads</p><p>Scrolling down, we have additional options including the ability to set an Expire time, and Referers. ThCuộn xuống, chúng ta có các tùy chọn bổ sung, bao gồm khả năng đặt Thời gian hết hạn và Người giới thiệu. Đây là các tùy chọn tùy chọn, nhưng chúng tôi thực sự khuyên bạn nên sử dụng chúng cho các ứng dụng sản xuất.
LƯU Ý : Trong bài trình diễn này, chúng tôi để chúng ở chế độ Mặc định.</p><p>Cuộn xuống, chúng ta có các tùy chọn bổ sung, bao gồm khả năng đặt Thời gian hết hạn và Người giới thiệu. Đây là các tùy chọn tùy chọn, nhưng chúng tôi thực sự khuyên bạn nên sử dụng chúng cho các ứng dụng sản xuất.
<strong>LƯU Ý</strong> : Trong bài trình diễn này, chúng tôi để chúng ở chế độ Mặc định.</p><p>Chọn <strong>Tạo khóa API</strong>.
Sau khi Khóa API đã được tạo, chúng ta cần lấy giá trị để sử dụng trong ứng dụng. Chọn Hiển thị giá trị Khóa API và sao chép giá trị vào một vị trí an toàn.</p><h2 id=các-tính-năng-api-bản-đồ-mới>Các tính năng API bản đồ mới</h2><p>Đầu tiên, chúng tôi sẽ làm nổi bật và giới thiệu các hàm SetStyle Descriptor và Get Static Map.</p><h2 id=xây-dựng-nền-tảng-cho-ứng-dụng-bản-đồ-với-getstyle-descriptor>Xây dựng nền tảng cho ứng dụng bản đồ với GetStyle Descriptor</h2><p>Hàm SetStyle Descriptor cho phép bạn truy xuất thông tin kiểu bản đồ và nhanh chóng xây dựng nền tảng cho ứng dụng bản đồ của mình. Tính năng này có thể được sử dụng cho nhiều giải pháp không gian địa lý và nền tảng ứng dụng khác nhau. Phiên bản mới cung cấp các kiểu bản đồ mở rộng, được thiết kế riêng cho các ứng dụng khác nhau—cung cấp chế độ tối và sáng với các mức độ chi tiết bản đồ khác nhau.
Chúng tôi sẽ trình bày cách tận dụng các kiểu bản đồ này bằng MapLibre GL JS. Chúng tôi sẽ tạo một trang HTML rất đơn giản bằng MapLibre GL JS và Khóa API Amazon Location Service.
Bắt đầu bằng cách tạo một trang HTML trống, đặt tên là simpleMap.html và sao chép đoạn mã sau vào trang:
HTML:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;html lang=&#34;en&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;head&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta charset=&#34;UTF-8&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;title&gt;Amazon Location Service Map&lt;/title&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- MapLibre GL CSS --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;link href=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css&#34; rel=&#34;stylesheet&#34; /&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;style&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>body {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>margin</span>: <span style=color:#ae81ff>0</span><span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>#map {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>height</span>: <span style=color:#ae81ff>100vh; /* Full viewport height */</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/style&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/head&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;body&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Map container --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;div id=&#34;map&#34;&gt;&lt;/div&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- JavaScript dependencies --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.js&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Configuration</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const region = &#34;&lt;AWS Region&gt;&#34;; // Replace with your AWS region</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const mapApiKey = &#34;&lt;Your API Key&gt;&#34;; // Replace with your Amazon Location Service API key</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>async function initializeMap() {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Initialize the map</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const map = new maplibregl.Map({</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>container</span>: <span style=color:#e6db74>&#34;map&#34;</span>, <span style=color:#ae81ff>// HTML element ID where the map will be rendered</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>center</span>: [-<span style=color:#ae81ff>115.1473824627421</span>, <span style=color:#ae81ff>36.17071351509272</span>], <span style=color:#ae81ff>// Initial map center coordinates (Las Vegas)</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>zoom</span>: <span style=color:#ae81ff>12</span>, <span style=color:#ae81ff>// Initial zoom level</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>style</span>: <span style=color:#ae81ff>`https://maps.geo.${region}.amazonaws.com/v2/styles/Standard/descriptor?&amp;color-scheme=Light&amp;variant=Default&amp;key=${mapApiKey}`, // Map style URL</span>
</span></span><span style=display:flex><span>            }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Add navigation controls to the map</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.addControl(new maplibregl.NavigationControl(), &#34;top-left&#34;);</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Call the function to initialize the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>initializeMap();</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/script&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/body&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/html&gt;</span>
</span></span></code></pre></div><p>Bây giờ hãy mở trang HTML này trong trình duyệt. Bạn sẽ thấy bản đồ Las Vegas, NV. Chìa khóa của bản đồ này là URL kiểu mà chúng ta đã thiết lập trước đó trong mã. Trong URL này, chúng tôi đã yêu cầu sử dụng bản đồ kiểu Chuẩn với tông màu sáng. Chúng ta cũng có thể thêm các tham số bổ sung như quan điểm chính trị.</p><h2 id=tạo-ảnh-bản-đồ-tĩnh-bằng-getstaticmap>Tạo ảnh bản đồ tĩnh bằng GetStaticMap</h2><p>Tính năng GetStaticMap cho phép bạn tạo ảnh bản đồ tĩnh dựa trên tọa độ, mức thu phóng và kích thước ảnh bạn chỉ định. Tính năng này giúp đưa ảnh bản đồ vào tài liệu in và bài đăng trên phương tiện truyền thông. Có nhiều tham số khác nhau cho tính năng này, bao gồm khả năng chồng các dữ liệu khác (chẳng hạn như điểm, đường và đa giác). Chúng tôi đã cung cấp một ví dụ cơ bản. Hãy nhớ chỉnh sửa URL cho Vùng AWS của bạn và Khóa API mới tạo. Dán URL sau vào thanh địa chỉ của trình duyệt web để hiển thị ảnh bản đồ tĩnh của vị trí đã chỉ định:
<strong><a href=https://maps.geo>https://maps.geo</a>.<your aws region>.amazonaws.com/v2/static/map?center=-115.170,36.122&amp;zoom=15&amp;width=1024&amp;height=1024&amp;key=<your api key></strong></p><h2 id=các-tính-năng-api-địa-điểm-mới>Các tính năng API Địa điểm mới</h2><p>Tiếp theo, chúng tôi sẽ nêu bật và giới thiệu các tính năng SearchText và Search Nearby.</p><h2 id=tìm-kiếm-dữ-liệu-poi-đã-chỉ-định-bằng-searchtext>Tìm kiếm dữ liệu POI đã chỉ định bằng SearchText</h2><p>Tính năng SearchText cho phép người dùng tìm kiếm và hiển thị dữ liệu điểm ưa thích (POI) đã chỉ định. Tính năng này được thiết kế để người dùng nhanh chóng tìm kiếm một địa điểm hoặc cơ sở cụ thể. Người dùng có thể gửi yêu cầu POST với các tham số đã chỉ định và nhận được phản hồi chứa dữ liệu điểm ứng viên. Chúng tôi sẽ trình bày một ví dụ về cách hiển thị dữ liệu đó trên bản đồ.
Tạo một tệp HTML mới có tên searchText.html và dán nội dung sau vào tệp:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;html lang=&#34;en&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;head&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta charset=&#34;UTF-8&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;title&gt;Amazon Location Service – Search Text&lt;/title&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;link href=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css&#34; rel=&#34;stylesheet&#34; /&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;style&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>body {</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>margin</span>: <span style=color:#ae81ff>0</span><span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#75715e>#map {</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>height</span>: <span style=color:#ae81ff>100vh;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/style&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;/head&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;body&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- map container --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;div id=&#34;map&#34;&gt;&lt;/div&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- JavaScript dependencies --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.js&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Import the Amazon Location Client --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-client@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Import the utility library --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-utilities-datatypes@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Configuration</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Set the AWS region for Amazon Location Service</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>const region = &#34;&lt;AWS Region&gt;&#34;;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// API key for authenticating requests</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>const mapApiKey = &#34;&lt;Amazon Location Service API Key&gt;&#34;;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>async function initializeMap() {</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Create an authentication helper using the API key</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const authHelper = await amazonLocationClient.withAPIKey(mapApiKey, region);</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the Amazon Location Service Places client</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const client = new amazonLocationClient.places.GeoPlacesClient(</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>authHelper.getClientConfig()</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Define search parameters for coffee shops</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const SearchTextInput = {</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>BiasPosition</span>: [-<span style=color:#ae81ff>115.170</span>, <span style=color:#ae81ff>36.122</span>], <span style=color:#ae81ff>// Las Vegas coordinates</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>MaxResults</span>: <span style=color:#ae81ff>25</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>QueryText</span>: <span style=color:#e6db74>&#34;Coffee Shops&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Perform the search using Amazon Location Service</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const searchResults = await client.send(</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>new amazonLocationClient.places.SearchTextCommand(SearchTextInput)</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const map = new maplibregl.Map({</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>container</span>: <span style=color:#e6db74>&#34;map&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>center</span>: [-<span style=color:#ae81ff>115.170</span>, <span style=color:#ae81ff>36.122</span>], <span style=color:#ae81ff>// Las Vegas coordinates</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>zoom</span>: <span style=color:#ae81ff>14</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>style</span>: <span style=color:#ae81ff>`https://maps.geo.${region}.amazonaws.com/v2/styles/Standard/descriptor?&amp;color-scheme=Light&amp;variant=Default&amp;key=${mapApiKey}`,</span>
</span></span><span style=display:flex><span>        }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Add navigation controls to the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>map.addControl(new maplibregl.NavigationControl(), &#34;top-left&#34;);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// When the map is loaded, add search results as a layer</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>map.on(&#34;load&#34;, () =&gt; {</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Convert search results into a GeoJSON FeatureCollection</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>const featureCollection = amazonLocationDataConverter.searchTextResponseToFeatureCollection(searchResults);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a data source containing GeoJSON from the search results</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addSource(&#34;place-index-results&#34;, {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;geojson&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>data</span>: <span style=color:#ae81ff>featureCollection,</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a new layer to visualize the points</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>id</span>: <span style=color:#e6db74>&#34;place-index-results&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;circle&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>source</span>: <span style=color:#e6db74>&#34;place-index-results&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>paint</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;circle-radius&#34;: </span><span style=color:#ae81ff>8</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;circle-color&#34;: </span><span style=color:#e6db74>&#34;#0080ff&#34;</span>,
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add click event listener for the search result points</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.on(&#39;click&#39;, &#39;place-index-results&#39;, (e) =&gt; {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>if (e.features.length &gt; 0) {</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>const feature = e.features[0];</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>const coordinates = feature.geometry.coordinates.slice();</span>
</span></span><span style=display:flex><span>              
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>// Create a formatted HTML string with the feature&#39;s properties</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>const properties = feature.properties;</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>let description = &#39;&lt;h3&gt;&#39; + (properties[&#39;Title&#39;] || &#39;Unnamed Location&#39;) + &#39;&lt;/h3&gt;&#39;;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>description += &#39;&lt;p&gt;Address</span>: <span style=color:#e6db74>&#39; + (properties[&#39;</span><span style=color:#ae81ff>Address.Label&#39;] || &#39;N/A&#39;) + &#39;&lt;/p&gt;&#39;;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>// Create and display a popup with the location information</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>new maplibregl.Popup()</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>.setLngLat(coordinates)</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>.setHTML(description)</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>.addTo(map);</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.on(&#39;mouseenter&#39;, &#39;place-index-results&#39;, () =&gt; {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.getCanvas().style.cursor = &#39;pointer&#39;;</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.on(&#39;mouseleave&#39;, &#39;place-index-results&#39;, () =&gt; {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.getCanvas().style.cursor = &#39;&#39;;</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>        }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Call the function to initialize the map</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>initializeMap();</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/script&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;/body&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/html&gt;</span>
</span></span></code></pre></div><p>Mở tệp HTML trong trình duyệt sẽ hiển thị bản đồ sau với các quán cà phê tập trung xung quanh Venetian Resort ở Las Vegas, NV (Hình 7).</p><h2 id=tìm-kiếm-để-lấy-dữ-liệu-poi-xung-quanh-một-vị-trí-cụ-thể-với-search-nearby>Tìm kiếm để lấy dữ liệu POI xung quanh một vị trí cụ thể với Search Nearby</h2><p>Chức năng Search Nearby cho phép bạn truy xuất dữ liệu POI gần một vị trí được chỉ định. Tính năng này rất tiện lợi cho người dùng tìm kiếm các cửa hàng và điểm tham quan gần đó. Người dùng có thể gửi yêu cầu POST với các tham số được chỉ định và nhận được phản hồi chứa dữ liệu điểm ứng viên. Chúng tôi sẽ minh họa một ví dụ về cách hiển thị dữ liệu đó trên bản đồ.
Tạo một tệp HTML mới có tên là searchNearby.html và dán nội dung sau vào tệp:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;html lang=&#34;en&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;head&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta charset=&#34;UTF-8&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;title&gt;Amazon Location Service – Search Nearby&lt;/title&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;link href=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css&#34; rel=&#34;stylesheet&#34; /&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;style&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>body {</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>margin</span>: <span style=color:#ae81ff>0</span><span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#75715e>#map {</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>height</span>: <span style=color:#ae81ff>100vh;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/style&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;/head&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;body&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- map container --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;div id=&#34;map&#34;&gt;&lt;/div&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- JavaScript dependencies --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.js&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Import the Amazon Location Client --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-client@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Import the utility library --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-utilities-datatypes@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Configuration</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Set the AWS region for Amazon Location Service</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>const region = &#34;&lt;AWS Region&gt;&#34;;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// API key for authenticating map requests</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>const mapApiKey = &#34;&lt;Amazon Location Service API Key&gt;&#34;;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>async function initializeMap() {</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Create an authentication helper using the API key</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const authHelper = await amazonLocationClient.withAPIKey(mapApiKey, region);</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the Amazon Location Service Places client</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const client = new amazonLocationClient.places.GeoPlacesClient(</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>authHelper.getClientConfig()</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Define search parameters for nearby casinos and hotels</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const SearchNearbyInput = {</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>QueryPosition</span>: [-<span style=color:#ae81ff>115.170</span>, <span style=color:#ae81ff>36.122</span>], <span style=color:#ae81ff>// Las Vegas coordinates</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>MaxResults</span>: <span style=color:#ae81ff>25</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>Filter</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>IncludeCategories</span>: [
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;casino&#34;</span>,
</span></span><span style=display:flex><span>              <span style=color:#e6db74>&#34;hotel&#34;</span>
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Perform the nearby search using Amazon Location Service</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const searchResults = await client.send(</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>new amazonLocationClient.places.SearchNearbyCommand(SearchNearbyInput)</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const map = new maplibregl.Map({</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>container</span>: <span style=color:#e6db74>&#34;map&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>center</span>: [-<span style=color:#ae81ff>115.170</span>, <span style=color:#ae81ff>36.122</span>], <span style=color:#ae81ff>// Las Vegas coordinates</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>zoom</span>: <span style=color:#ae81ff>15</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>style</span>: <span style=color:#ae81ff>`https://maps.geo.${region}.amazonaws.com/v2/styles/Standard/descriptor?&amp;color-scheme=Light&amp;variant=Default&amp;key=${mapApiKey}`,</span>
</span></span><span style=display:flex><span>        }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Add navigation controls to the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>map.addControl(new maplibregl.NavigationControl(), &#34;top-left&#34;);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// When the map is loaded, add search results as a layer</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>map.on(&#34;load&#34;, () =&gt; {</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Convert search results into a GeoJSON FeatureCollection</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>const featureCollection = amazonLocationDataConverter.searchNearbyResponseToFeatureCollection(searchResults);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a data source containing GeoJSON from the search results</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addSource(&#34;place-index-results&#34;, {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;geojson&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>data</span>: <span style=color:#ae81ff>featureCollection,</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a new layer to visualize the points</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>id</span>: <span style=color:#e6db74>&#34;place-index-results&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;circle&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>source</span>: <span style=color:#e6db74>&#34;place-index-results&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>paint</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;circle-radius&#34;: </span><span style=color:#ae81ff>8</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;circle-color&#34;: </span><span style=color:#e6db74>&#34;#0080ff&#34;</span>,
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add click event listener for the search result points</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.on(&#39;click&#39;, &#39;place-index-results&#39;, (e) =&gt; {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>if (e.features.length &gt; 0) {</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>const feature = e.features[0];</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>const coordinates = feature.geometry.coordinates.slice();</span>
</span></span><span style=display:flex><span>              
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>// Create a formatted HTML string with the feature&#39;s properties</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>const properties = feature.properties;</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>let description = &#39;&lt;h3&gt;&#39; + (properties[&#39;Title&#39;] || &#39;Unnamed Location&#39;) + &#39;&lt;/h3&gt;&#39;;</span>
</span></span><span style=display:flex><span>              <span style=color:#f92672>description += &#39;&lt;p&gt;Address</span>: <span style=color:#e6db74>&#39; + (properties[&#39;</span><span style=color:#ae81ff>Address.Label&#39;] || &#39;N/A&#39;) + &#39;&lt;/p&gt;&#39;;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>// Create and display a popup with the location information</span>
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>new maplibregl.Popup()</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>.setLngLat(coordinates)</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>.setHTML(description)</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>.addTo(map);</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.on(&#39;mouseenter&#39;, &#39;place-index-results&#39;, () =&gt; {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.getCanvas().style.cursor = &#39;pointer&#39;;</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.on(&#39;mouseleave&#39;, &#39;place-index-results&#39;, () =&gt; {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.getCanvas().style.cursor = &#39;&#39;;</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>        }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Call the function to initialize the map</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>initializeMap();</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/script&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;/body&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/html&gt;</span>
</span></span></code></pre></div><p>Mở tệp HTML trong trình duyệt sẽ hiển thị bản đồ sau đây cho thấy vị trí khách sạn và sòng bạc tập trung xung quanh Venetian Resort ở Las Vegas, NV (Hình 8).</p><h2 id=các-tính-năng-api-tuyến-đường-mới>Các tính năng API tuyến đường mới</h2><p>Cuối cùng, chúng ta sẽ thảo luận về các hàm CalculateIsolines và SnapToRoads mới.</p><h2 id=tìm-phạm-vi-có-thể-tiếp-cận-từ-một-vị-trí-được-chỉ-định-với-calculateisolines>Tìm phạm vi có thể tiếp cận từ một vị trí được chỉ định với CalculateIsolines</h2><p>Hàm CalculateIsolines có thể truy xuất phạm vi tiếp cận từ một điểm được chỉ định. Một số trường hợp sử dụng Isolines bao gồm xác định các khu vực có thể giao hàng và đánh giá vị trí bất động sản. Người dùng có thể gửi yêu cầu POST với các tham số được chỉ định và nhận được phản hồi chứa dữ liệu đa giác cho biết khu vực tiếp cận. Chúng tôi sẽ trình bày một ví dụ về cách trực quan hóa dữ liệu đó trên bản đồ.
Tạo một tệp HTML mới và đặt tên là calculateIsolines.html rồi dán nội dung sau vào tệp:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;html lang=&#34;en&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;head&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta charset=&#34;UTF-8&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;title&gt;Amazon Location Service - Isolines&lt;/title&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;link href=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css&#34; rel=&#34;stylesheet&#34; /&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;style&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>body {</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>margin</span>: <span style=color:#ae81ff>0</span><span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#75715e>#map {</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>height</span>: <span style=color:#ae81ff>100vh;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/style&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;/head&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;body&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- map container --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;div id=&#34;map&#34;&gt;&lt;/div&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- JavaScript dependencies --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.js&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Import the Amazon Location Client --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-client@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Import the utility library --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-utilities-datatypes@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Configuration</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Set the AWS region for the Amazon Location Service</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>const region = &#34;&lt;AWS Region&gt;&#34;;</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// API key for authenticating map requests</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>const mapApiKey = &#34;&lt;Amazon Location Service API Key&#34;;</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>async function initializeMap() {</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Create an authentication helper using the API key</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const authHelper = await amazonLocationClient.withAPIKey(mapApiKey, region);</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the Amazon Location Service Routes client</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const client = new amazonLocationClient.routes.GeoRoutesClient(</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>authHelper.getClientConfig()</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Define parameters for calculating isolines</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const IsolinesInput = {</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>Origin</span>: [-<span style=color:#ae81ff>115.17015436843275</span>, <span style=color:#ae81ff>36.12122662193694</span>], <span style=color:#ae81ff>// Starting point coordinates</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>Thresholds</span>: {
</span></span><span style=display:flex><span>            <span style=color:#f92672>Time</span>: [
</span></span><span style=display:flex><span>              <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>900</span> <span style=color:#ae81ff>// Time thresholds in seconds</span>
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          <span style=color:#f92672>TravelMode</span>: <span style=color:#e6db74>&#34;Pedestrian&#34;</span> <span style=color:#ae81ff>// Travel mode for isoline calculation</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Calculate isolines using Amazon Location Service</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const routeResults = await client.send(</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>new amazonLocationClient.routes.CalculateIsolinesCommand(IsolinesInput)</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const map = new maplibregl.Map({</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>container</span>: <span style=color:#e6db74>&#34;map&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>center</span>: [-<span style=color:#ae81ff>115.16766776735061</span>, <span style=color:#ae81ff>36.12177195550658</span>], <span style=color:#ae81ff>// Map center coordinates</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>zoom</span>: <span style=color:#ae81ff>15</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>style</span>: <span style=color:#ae81ff>`https://maps.geo.${region}.amazonaws.com/v2/styles/Standard/descriptor?&amp;color-scheme=Light&amp;variant=Default&amp;key=${mapApiKey}`,</span>
</span></span><span style=display:flex><span>        }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Add navigation controls to the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>map.addControl(new maplibregl.NavigationControl(), &#34;top-left&#34;);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Add a marker at the origin point</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const marker = new maplibregl.Marker()</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>.setLngLat([-115.17015436843275, 36.12122662193694])</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>.addTo(map)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// When the map is loaded, add isolines as layers</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>map.on(&#34;load&#34;, () =&gt; {</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Convert isoline results into a GeoJSON FeatureCollection</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>const featureCollection = amazonLocationDataConverter.calculateIsolinesResponseToFeatureCollection(routeResults);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a data source containing GeoJSON from the isoline results</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addSource(&#34;isolines&#34;, {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;geojson&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>data</span>: <span style=color:#ae81ff>featureCollection</span>
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a fill layer to visualize the isoline areas</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;isolines-fill-900&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;source&#39;</span>: <span style=color:#e6db74>&#39;isolines&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;filter&#39;</span>: [<span style=color:#e6db74>&#39;==&#39;</span>, [<span style=color:#e6db74>&#39;get&#39;</span>, <span style=color:#e6db74>&#39;TimeThreshold&#39;</span>], <span style=color:#ae81ff>900</span>],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;paint&#39;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;fill-color&#39;</span>: <span style=color:#e6db74>&#39;#0000ff&#39;</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;fill-opacity&#39;</span>: <span style=color:#ae81ff>0.5</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a layer for 600m (10)</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;isolines-fill-600&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;source&#39;</span>: <span style=color:#e6db74>&#39;isolines&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;filter&#39;</span>: [<span style=color:#e6db74>&#39;==&#39;</span>, [<span style=color:#e6db74>&#39;get&#39;</span>, <span style=color:#e6db74>&#39;TimeThreshold&#39;</span>], <span style=color:#ae81ff>600</span>],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;paint&#39;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;fill-color&#39;</span>: <span style=color:#e6db74>&#39;#00ff00&#39;</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;fill-opacity&#39;</span>: <span style=color:#ae81ff>.5</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add a layer for 300m (5)</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;isolines-fill-300&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;fill&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;source&#39;</span>: <span style=color:#e6db74>&#39;isolines&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;filter&#39;</span>: [<span style=color:#e6db74>&#39;==&#39;</span>, [<span style=color:#e6db74>&#39;get&#39;</span>, <span style=color:#e6db74>&#39;TimeThreshold&#39;</span>], <span style=color:#ae81ff>300</span>],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;paint&#39;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;fill-color&#39;</span>: <span style=color:#e6db74>&#39;#f10000&#39;</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;fill-opacity&#39;</span>: <span style=color:#ae81ff>0.5</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>// Add an outline layer to highlight the isoline boundaries</span>
</span></span><span style=display:flex><span>          <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;isolines-outline&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;line&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;source&#39;</span>: <span style=color:#e6db74>&#39;isolines&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#39;paint&#39;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;line-color&#39;</span>: <span style=color:#e6db74>&#39;#000000&#39;</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#39;line-width&#39;</span>: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>        }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>// Call the function to initialize the map</span>
</span></span><span style=display:flex><span>      <span style=color:#ae81ff>initializeMap();</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/script&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>&lt;/body&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/html&gt;</span>
</span></span></code></pre></div><h2 id=nhận-dữ-liệu-tuyến-đường-đã-hiệu-chỉnh-vị-trí-bằng-snaptoroads>Nhận dữ liệu tuyến đường đã hiệu chỉnh vị trí bằng SnapToRoads</h2><p>Chức năng SnapToRoads cho phép bạn chụp dữ liệu GPS và các dữ liệu vị trí khác vào đường gần nhất và lấy dữ liệu đường sau khi hiệu chỉnh vị trí. Tính năng này rất hữu ích trong việc cải thiện độ chính xác của việc theo dõi phương tiện và phân tích giao thông. Người dùng có thể gửi yêu cầu POST với các tham số được chỉ định và nhận được phản hồi chứa dữ liệu đường đã hiệu chỉnh vị trí. Chúng tôi sẽ trình bày một ví dụ về cách trực quan hóa dữ liệu trước và sau khi xử lý trên bản đồ.</p><p>Tạo một tệp HTML mới có tên là snapToRoad.html và dán nội dung sau vào tệp:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ae81ff>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;html lang=&#34;en&#34;&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;head&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta charset=&#34;UTF-8&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;title&gt;Amazon Location Service - Snap to Roads&lt;/title&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- MapLibre GL CSS --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;link href=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.css&#34; rel=&#34;stylesheet&#34; /&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;style&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>body {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>margin</span>: <span style=color:#ae81ff>0</span><span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>#map {</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>height</span>: <span style=color:#ae81ff>100vh; /* Full viewport height */</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/style&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/head&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;body&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Map container --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;div id=&#34;map&#34;&gt;&lt;/div&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- JavaScript dependencies --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://unpkg.com/maplibre-gl@3.x/dist/maplibre-gl.js&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Amazon Location Client --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-client@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;!-- Amazon Location utility library --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script src=&#34;https://cdn.jsdelivr.net/npm/@aws/amazon-location-utilities-datatypes@1&#34;&gt;&lt;/script&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;script&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Configuration</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const region = &#34;&lt;AWS Region&gt;&#34;; // Replace with your AWS region</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>const mapApiKey = &#34;&lt;Amazon Location Service API Key&gt;&#34;; // Replace with your API key</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>async function initializeMap() {</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Create authentication helper</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const authHelper = await amazonLocationClient.withAPIKey(mapApiKey, region);</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Initialize Amazon Location Service Routes client</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const client = new amazonLocationClient.routes.GeoRoutesClient(</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>authHelper.getClientConfig()</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// GPS trace coordinates</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const gpsTraceCoordinates = [</span>
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14564318728544</span>, <span style=color:#ae81ff>36.09359703860663</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14522142988834</span>, <span style=color:#ae81ff>36.09368914760097</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14477687479442</span>, <span style=color:#ae81ff>36.09345887491297</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14452610012599</span>, <span style=color:#ae81ff>36.093560194978636</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14432092085157</span>, <span style=color:#ae81ff>36.09364309311755</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14383077036334</span>, <span style=color:#ae81ff>36.09360624951118</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14303285096376</span>, <span style=color:#ae81ff>36.09360624951118</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14273648090104</span>, <span style=color:#ae81ff>36.09375362383305</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14218933616989</span>, <span style=color:#ae81ff>36.09353256224662</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14163079259018</span>, <span style=color:#ae81ff>36.0936154604141</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14126602943631</span>, <span style=color:#ae81ff>36.093633882217304</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14136861907319</span>, <span style=color:#ae81ff>36.09338518751021</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14126602943631</span>, <span style=color:#ae81ff>36.093035171404196</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14093546282783</span>, <span style=color:#ae81ff>36.092906217708844</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.140479508885</span>, <span style=color:#ae81ff>36.09289700672278</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.14033132385379</span>, <span style=color:#ae81ff>36.09270357576062</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.13951060675709</span>, <span style=color:#ae81ff>36.09278647480254</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.13900905742025</span>, <span style=color:#ae81ff>36.09291542869438</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.13839351959763</span>, <span style=color:#ae81ff>36.09298911653757</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.1378349760179</span>, <span style=color:#ae81ff>36.092906217708844</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.13733342668108</span>, <span style=color:#ae81ff>36.09301674946067</span>],
</span></span><span style=display:flex><span>                [-<span style=color:#ae81ff>115.13703705661834</span>, <span style=color:#ae81ff>36.09286016276663</span>]
</span></span><span style=display:flex><span>             ]<span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Format trace points for Snap to Roads API</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const tracePoints = gpsTraceCoordinates.map(coord =&gt; ({</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>Position</span>: <span style=color:#ae81ff>coord,</span>
</span></span><span style=display:flex><span>            }<span style=color:#ae81ff>));    </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Snap to Roads API input</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const SnapInput = {</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>TracePoints</span>: <span style=color:#ae81ff>tracePoints</span>
</span></span><span style=display:flex><span>            }<span style=color:#ae81ff>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Call Snap to Roads API</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const snapResults = await client.send(</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>new amazonLocationClient.routes.SnapToRoadsCommand(SnapInput)</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Initialize the map</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>const map = new maplibregl.Map({</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>container</span>: <span style=color:#e6db74>&#34;map&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>center</span>: [-<span style=color:#ae81ff>115.14127503567818</span>, <span style=color:#ae81ff>36.09249839687936</span>], <span style=color:#ae81ff>// Las Vegas area</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>zoom</span>: <span style=color:#ae81ff>16</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>style</span>: <span style=color:#ae81ff>`https://maps.geo.${region}.amazonaws.com/v2/styles/Standard/descriptor?&amp;color-scheme=Light&amp;variant=Default&amp;key=${mapApiKey}`,</span>
</span></span><span style=display:flex><span>            }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// Add navigation controls</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.addControl(new maplibregl.NavigationControl(), &#34;top-left&#34;);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>// When the map is loaded, add the GPS trace and snapped route</span>
</span></span><span style=display:flex><span>            <span style=color:#ae81ff>map.on(&#34;load&#34;, () =&gt; {</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>// Convert snap results to GeoJSON</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>const featureCollection = amazonLocationDataConverter.snapToRoadsResponseToFeatureCollection(snapResults);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>// Add GPS trace source</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>map.addSource(&#34;gpsTrace&#34;, {</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;geojson&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>data</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;Feature&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#f92672>geometry</span>: {
</span></span><span style=display:flex><span>                            <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;LineString&#34;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#f92672>coordinates</span>: <span style=color:#ae81ff>gpsTraceCoordinates</span>
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>// Add snapped trace source</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>map.addSource(&#34;snappedTrace&#34;, {</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;geojson&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>data</span>: <span style=color:#ae81ff>featureCollection</span>
</span></span><span style=display:flex><span>                }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>// Add GPS trace layer</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;gpsTrace&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;line&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#39;source&#39;</span>: <span style=color:#e6db74>&#39;gpsTrace&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>layout</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-join&#34;: </span><span style=color:#e6db74>&#34;round&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-cap&#34;: </span><span style=color:#e6db74>&#34;round&#34;</span>,
</span></span><span style=display:flex><span>                    },
</span></span><span style=display:flex><span>                    <span style=color:#f92672>paint</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-color&#34;: </span><span style=color:#e6db74>&#34;#00b0ff&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-width&#34;: </span><span style=color:#ae81ff>8</span>,
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>// Add snapped trace layer</span>
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>map.addLayer({</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#39;id&#39;</span>: <span style=color:#e6db74>&#39;snappedTrace&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#39;type&#39;</span>: <span style=color:#e6db74>&#39;line&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#39;source&#39;</span>: <span style=color:#e6db74>&#39;snappedTrace&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>layout</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-join&#34;: </span><span style=color:#e6db74>&#34;round&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-cap&#34;: </span><span style=color:#e6db74>&#34;round&#34;</span>,
</span></span><span style=display:flex><span>                    },
</span></span><span style=display:flex><span>                    <span style=color:#f92672>paint</span>: {
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-color&#34;: </span><span style=color:#e6db74>&#34;#d59a9a&#34;</span>,
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&#34;line-width&#34;: </span><span style=color:#ae81ff>8</span>,
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>            }<span style=color:#ae81ff>);</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>// Initialize the map</span>
</span></span><span style=display:flex><span>        <span style=color:#ae81ff>initializeMap();</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>&lt;/script&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/body&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>&lt;/html&gt;</span>
</span></span></code></pre></div><p>Mở tệp HTML trong trình duyệt sẽ hiển thị bản đồ sau (Hình 10), với đường màu xanh biểu thị dấu vết GPS và đường màu đỏ biểu thị phiên bản được gắn vào đường.</p><h2 id=dọn-dẹp>Dọn dẹp</h2><p>Tài nguyên duy nhất của Amazon Location Service được tạo trong bản demo này là Khóa API. Để xóa Khóa API, hãy điều hướng đến Bảng điều khiển Amazon Location Service, chọn Khóa API chúng tôi đã tạo và chọn Hủy kích hoạt. Xác nhận quyết định hủy kích hoạt khóa, sau đó chọn Xóa. Đồng thời, hãy chọn bỏ qua thời gian hủy kích hoạt tiêu chuẩn 90 ngày.</p><h2 id=phần-kết-luận>Phần kết luận</h2><p>Dịch vụ Định vị Amazon giờ đây mang đến sự linh hoạt hơn nữa với các tính năng mới. Với bản cập nhật này, quy trình tạo tài nguyên trước đây không còn cần thiết nữa, và người dùng có thể sử dụng nhiều API khác nhau bằng cách thiết lập khóa API. Điều này cho phép người dùng xây dựng các ứng dụng không gian địa lý một cách nhanh chóng và mượt mà.
Các tính năng mới đáng chú ý bao gồm GetStyleDescriptor và GetStaticMap trong API Maps, SearchText và SearchNearby trong API Places và CalculateIsolines và SnapToRoads trong API Routes.
Trong API Bản đồ, GetStyleDescriptor có thể được sử dụng để truy xuất nhiều kiểu bản đồ khác nhau và áp dụng chúng vào ứng dụng của bạn, còn GetStaticMap có thể tạo ảnh bản đồ tĩnh dựa trên tọa độ và mức thu phóng bạn chỉ định. API Địa điểm cho phép bạn tìm kiếm dữ liệu POI bằng SearchText, và SearchNearby sẽ cho phép bạn tìm các POI xung quanh một vị trí cụ thể. API Tuyến đường có thể sử dụng CalculateIsolines để tính toán khả năng tiếp cận từ một điểm đã chỉ định và SnapToRoads để hiệu chỉnh dữ liệu GPS nhằm có được dữ liệu tuyến đường chính xác.
Những tính năng mới này cho phép các nhà phát triển ứng dụng sử dụng dữ liệu không gian địa lý hiệu quả hơn và cải thiện đáng kể trải nghiệm người dùng. Liên hệ với Đại diện AWS để biết thêm thông tin về cách chúng tôi có thể giúp thúc đẩy doanh nghiệp của bạn.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/3-blogstranslated/3.1-blog1/ title="Blog 1"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/3-blogstranslated/3.3-blog3/ title="Blog 3" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1e3px;overflow:scroll;position:absolute;top:-1e3px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765303936></script><script src=../../../js/perfect-scrollbar.min.js?1765303936></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765303936></script><script src=../../../js/jquery.sticky.js?1765303936></script><script src=../../../js/featherlight.min.js?1765303936></script><script src=../../../js/highlight.pack.js?1765303936></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765303936></script><script src=../../../js/learn.js?1765303936></script><script src=../../../js/hugo-learn.js?1765303936></script><link href=../../../mermaid/mermaid.css?1765303936 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765303936></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>